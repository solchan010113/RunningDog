<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="walkBlog">
   
   <!-- 쿼리문 작성 --> 
   
   <!-- 산책로 가져오기 -->
   <select id="selectBlogOwner" parameterType="String"  resultType="String">
      <![CDATA[
      
      SELECT name,
      		 userNo
      FROM users
      WHERE id = #{id}
      
      ]]>
   </select>
   
   
   
      <select id="selectFollowerNum" parameterType="String" resultType="int">
      <![CDATA[
      
      SELECT count(followeeNo) as followerNum
      from follow
      where followeeNo = (SELECT userNo
                            From users
                            WHERE id = #{paramId})
      ]]>
   </select>
   
    <select id="selectFollowingNum" parameterType="String" resultType="int">
      <![CDATA[
      
      SELECT count(followerNo) as followingNum
      from follow
      where followerNo = (SELECT userNo
                            From users
                            WHERE id = #{paramId})
      ]]>
   </select>
   
   
   
   <select id="didIFollow" resultType="int" parameterType="Map">
      <![CDATA[
      
      SELECT count(followNo) as followNo 
	  from follow
	  where followeeNo =(SELECT userNo
        From users
        WHERE id = #{paramId}) and followerNo = (SELECT userNo
                          From users
                          WHERE id = #{authId})
      ]]>
   </select>
   
     <select id="showLog" resultType="int" parameterType="Map">
      <![CDATA[
      
      select walkLogNo,
       		 userNo,
       	  	 locationNo,
       		 regDate,
       		 startTime,
      		 endTime,
      		 logTime,
      		 distance,
      		 content,
      		 security,
      		 status
			 from walkLog
	   where userNo = (SELECT userNo
       From users
       WHERE id = #{paramId});
      ]]>
   </select>
   
   

</mapper>